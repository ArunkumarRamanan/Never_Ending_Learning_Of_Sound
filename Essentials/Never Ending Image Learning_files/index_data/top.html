<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <script src="index_data/analytics.js" async=""></script><script src="index_data/analytics.js" async=""></script><script src="top_data/hogan-2.js"></script>
        <script src="top_data/jquery-1.js"></script>
        <script src="top_data/typeahead.js"></script>
		<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-45111347-1', 'neil-kb.com');
        ga('send', 'pageview');
        </script>
        <script>

            var lastclassname = "";

            function formSubmit()
            {
              var first = 'content.php?category=';
              var theCate = document.getElementById("category").value;
              // document.getElementById("category").value = "Unknown";

              var theClass = document.getElementById("typeahead").value.replace(/ /g,"_").toLowerCase();
              // var theClass = strtolower(theClassOrg);

              if ((theCate === 'Unknown') || (theClass !== lastclassname)) {
                  var found = false;
                  theCate = 'Unknown';
                  var lists = document.getElementsByClassName("Objects");
                  for (var i = 0; i < lists.length; i++) {
                    if (theClass === lists[i].innerHTML.replace(/ /g,"_")) {
                        theCate = 'Objects';
                        found = true;
                        break;
                    }
                  }
                  if (!found) {
                      lists = document.getElementsByClassName("Scenes");
                      for (var i = 0; i < lists.length; i++) {
                        if (theClass === lists[i].innerHTML.replace(/ /g,"_")) {
                            theCate = 'Scenes';
                            found = true;
                            break;
                        }
                      }
                  }
                  if (!found) {
                      lists = document.getElementsByClassName("Attributes");
                      for (var i = 0; i < lists.length; i++) {
                        if (theClass === lists[i].innerHTML.replace(/ /g,"_")) {
                            theCate = 'Attributes';
                            found = true;
                            break;
                        }
                      }
                  }
              }

              // alert(theClass);
              
              if (theCate === 'Unknown') {
                 // alert('Sorry, the category you submitted is not available in NEIL knowledge base!');
                 // return false;
              }

              lastclassname = theClass;

              var url = first.concat(theCate).concat('&class=').concat(theClass);
              // alert(url);

              // <form id="myForm" name="myForm" target="neil_content" action="content.php" method="post"> </form>
              
              parent.window.frames["neil_content"].location = url;
     
            }
            
            // $("#myForm").submit(function(e){
            //     e.preventDefault();
            // });
        </script>
        <link rel="stylesheet" href="top_data/screen.css" type="text/css" media="screen">
        <link rel="stylesheet" href="top_data/typeahead.css" type="text/css" media="screen">
        <link rel="stylesheet" href="top_data/css.css" type="text/css">
    </head>
    <body>
		<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-45111347-1', 'neil-kb.com');
        ga('send', 'pageview');
</script>        <div id="title">
            <h1 class="logo"><a target="_parent" href="http://www.neil-kb.com/">NEIL: Never Ending Image Learner</a></h1>
            <p class="institute">I Crawl, I See, I Learn.</p>
        </div>
        <div id="topmiddle" style="float: left; margin-top: 20px; margin-left: 30px;">
            <h3 style="width: 40px;">Statistics:</h3>
            <table style="font-size: 0.8em; margin-left: 20px; line-height: 1.4;">
                <tbody>
                    <tr>
                        <td style="text-align:right"> 2,702 Concepts &nbsp;&nbsp;&nbsp; </td>
                        <td style="text-align:right"> 1,002,026 Bounding boxes &nbsp;&nbsp;&nbsp; </td>
                        <td style="text-align:right"> 8,685 Visual Models &nbsp;&nbsp;&nbsp; </td>
                    </tr>
                    <tr>
                        <td style="text-align:right"> 2,201,468 Images &nbsp;&nbsp;&nbsp; </td>
                        <td style="text-align:right"> 517,450 Segmentations &nbsp;&nbsp;&nbsp; </td>
                        <td style="text-align:right"> 4,695 Visual Relationships &nbsp;&nbsp;&nbsp; </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="topright">
            <span style="position: relative; display: inline-block;" class="twitter-typeahead"><input style="position: absolute; top: 0px; left: 0px; border-color: transparent; box-shadow: none; background: none repeat scroll 0% 0% rgba(0, 0, 0, 0.4);" class="tt-hint" autocomplete="off" spellcheck="off" disabled="disabled" type="text"><input dir="auto" style="position: relative; vertical-align: top; background-color: transparent;" spellcheck="false" autocomplete="off" class="typeahead tt-query" id="typeahead" placeholder="Search..." type="text"><span style="position: absolute; left: -9999px; visibility: hidden; white-space: nowrap; font-family: Monaco,Consolas,&quot;Andale Mono&quot;,&quot;DejaVu Sans Mono&quot;,monospace; font-size: 14px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: 0px; text-indent: 0px; text-rendering: optimizelegibility; text-transform: none;"></span><span style="position: absolute; top: 100%; left: 0px; z-index: 100; display: none;" class="tt-dropdown-menu"></span></span>
            <input id="category" value="Unknown" type="hidden">
            <input class="button" name="SubmitT" value="Submit" onclick="javascript: formSubmit()" type="submit">
        </div>
        <script>
            $('.typeahead').typeahead([
              // {
              //   name: 'Repos',
              //   prefetch: './repos.json',
              //   header: '<h4>Repos</h4>',
              //   template: '<p>{{value}}</p><!--{{name}}-->',
              //   engine: Hogan
              // },
              {
                name: 'Objects',
                prefetch: './objectsList.json',
                header: '<h4>Objects</h4>',
                template: '<p class="{{name}}">{{value}}</p><!--{{name}}-->',
                engine: Hogan,
                limit: 10,
                minLength: 2
              },
              {
                name: 'Scenes',
                prefetch: './scenesList.json',
                header: '<h4>Scenes</h4>',
                template: '<p class="{{name}}">{{value}}</p><!--{{name}}-->',
                engine: Hogan,
                limit: 3,
                minLength: 3
              },
              {
                name: 'Attributes',
                prefetch: './attributesList.json',
                header: '<h4>Attributes</h4>',
                template: '<p class="{{name}}">{{value}}</p><!--{{name}}-->',
                engine: Hogan,
                limit: 3,
                minLength: 3
              }
            ]);

            $('.typeahead').on('typeahead:selected', function($e, datum) {
                var theCate = datum.name;
                document.getElementById("category").value=theCate;
                // alert(theCate);
            });

            $('.typeahead').on('typeahead:autocompleted', function($e, datum) {
                var theCate = datum.name;
                document.getElementById("category").value=theCate;
                // alert(theCate);
            });


            $('.typeahead').on('keyup', function(e) {
                if (e.which == 13) {
                    e.preventDefault();
                    formSubmit();
                }
            });
        </script>
    

</body></html>